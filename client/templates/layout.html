<template name="layout">
	<header class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
					<span class="sr-only">{{i18n "layout.navigationToggle"}}</span> <!-- ToDO: layout.navigationToggle??? -->
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a href="{{pathFor "home"}}" class="navbar-brand">{{i18n "application.title"}}</a>
			</div>
			<div id="navbar-collapse" class="collapse navbar-collapse">
				<nav>
					<ul class="nav navbar-nav">
						<li>
							<a href="{{pathFor "home"}}">{{i18n "navigation.home"}}</a>
						</li>
						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{i18n "navigation.programmingLanguages"}}
								<span class="caret"></span></a>
							<ul class="dropdown-menu">
								{{#each i18nProgrammingLanguages}}
									<li><a href="{{pathFor "exerciseSearch" data=this}}">{{programmingLanguageName name}}</a></li>
								{{/each}}
							</ul>
						</li>
						<li>
							<a href="{{pathFor "programmingEdit"}}">{{i18n "navigation.createExercise"}}</a>
						</li>
						<li>
							<a href="{{pathFor "admin"}}">{{i18n "navigation.mongoDBAdmin"}}</a>
						</li>
					</ul>
				</nav>
				<nav class="navbar-right">
					<ul class="nav navbar-nav">
						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
								<span class="glyphicon glyphicon-globe"></span>
								{{language}}
								<span class="caret"></span>
							</a>
							<ul class="dropdown-menu">
								{{#each languages}}
									<li class={{#if isActive}}active{{/if}}>
										<a href="?lang={{id}}" class="i18n lang" data-lang={{id}}>{{name}}</a>
									</li>
								{{/each}}
							</ul>
						</li>
						<li role="separator" class="divider-vertical"></li>
						{{#if currentUser}}
							<li><a href={{pathFor "account"}}>{{i18n "navigation.myAccount"}}</a></li>
						{{else}}
							<li><a href="{{pathFor "login"}}">{{i18n "navigation.login"}}</a></li>
						{{/if}}
					</ul>
				</nav>
			</div>
		</div>
	</header>
	<div class="container">
		<div class="row">
			<main class={{#if showAside}}col-lg-9{{else}}col-lg-12{{/if}} >
				{{#unless customTitle}}
					<h1 class="default">{{i18n "application.title"}}</h1>
				{{/unless}}
				{{> yield}}
			</main>
			{{#if showAside}}
				<aside class="col-lg-3">
					{{> yield "aside"}}
				</aside>
			{{/if}}
		</div>
	</div>
</template>
